var wpDataTablesHighchart=function(){var t={container:"#wdtHighChartContainer",columnIndexes:[],numberFormat:1,connectedWPDataTable:null,renderCallback:null,chart:null,setContainer:function(t){this.container=t,this.options.chart.renderTo=t.replace("#","")},getContainer:function(){return this.container},setWidth:function(t){isNaN(t)||null==t||0==t?delete this.options.chart.width:this.options.chart.width=parseInt(t)},getWidth:function(){return this.options.chart.width},setHeight:function(t){this.options.chart.height=parseInt(t)},getHeight:function(){return this.options.chart.height},setRenderCallback:function(t){this.renderCallback=t},options:{chart:{backgroundColor:"#FFFFFF",borderColor:"#4572A7",borderRadius:0,borderWidth:0,height:400,inverted:!1,panning:!1,panKey:"shift",plotBackgroundColor:"undefined",plotBackgroundImage:"undefined",plotBorderColor:"undefined",plotBorderWidth:0,type:"line",zoomType:"undefined"},credits:{enabled:!0,href:"http://www.highcharts.com",text:"Highcharts.com"},exporting:{buttons:{contextButton:{align:"right",symbolStroke:"#666",text:null,verticalAlign:"top"}},enabled:!0,chartOptions:{plotOptions:{series:{dataLabels:{enabled:!1}}}},filename:"Chart",width:"undefined"},legend:{backgroundColor:"#FFFFFF",title:{text:""},layout:"horizontal",align:"right",verticalAlign:"bottom",borderWidth:0,borderColor:"#909090"},plotOptions:{},series:[],subtitle:{align:"center",floating:!1,text:"undefined"},title:{align:"center",floating:!1,text:""},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.85)",borderColor:null,borderRadius:3,borderWidth:1,enabled:!0,shared:!1,valuePrefix:"undefined",valueSuffix:"undefined"},xAxis:{crosshair:!1},yAxis:{crosshair:!1,gridLineDashStyle:"Solid",title:{align:"align",text:""},plotLines:[{value:0,width:1,color:"#808080"}]}},setOptions:function(t){for(var i in t)this.options[i]=t[i]},getOptions:function(){return this.options},render:function(){null!==this.renderCallback&&this.renderCallback(this),this.chart=new Highcharts.Chart(this.options)},setType:function(t){switch(t){case"highcharts_basic_area_chart":this.options.chart.type="area";break;case"highcharts_stacked_area_chart":this.options.chart.type="area",this.options.plotOptions={area:{stacking:"normal"}};break;case"highcharts_basic_bar_chart":this.options.chart.type="bar";break;case"highcharts_scatter_plot":this.options.chart.type="scatter";break;case"highcharts_stacked_bar_chart":this.options.chart.type="bar",this.options.plotOptions={series:{stacking:"normal"}};break;case"highcharts_basic_column_chart":this.options.chart.type="column";break;case"highcharts_3d_column_chart":this.options.chart.type="column",this.options.chart.margin=75,this.options.chart.options3d={enabled:!0,alpha:15,beta:15,viewDistance:25,depth:40},this.options.plotOptions={column:{depth:25}};break;case"highcharts_stacked_column_chart":this.options.chart.type="column",this.options.plotOptions={column:{stacking:"normal"}};break;case"highcharts_pie_chart":this.options.chart.type="pie",this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},this.options.tooltip.pointFormat="{series.name}: <b>{point.percentage:.1f}%</b>";break;case"highcharts_3d_pie_chart":this.options.chart.type="pie",this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}},depth:40}},this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},this.options.chart.options3d={enabled:!0,alpha:45,beta:0,viewDistance:25,depth:40};break;case"highcharts_pie_with_gradient_chart":this.options.chart.type="pie",Highcharts.getOptions().colors=Highcharts.map(Highcharts.getOptions().colors,function(t){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,t],[1,Highcharts.Color(t).brighten(-.3).get("rgb")]]}}),this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_donut_chart":this.options.chart.type="pie",this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},this.options.series[0].innerSize="80%",this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_3d_donut_chart":this.options.chart.type="pie",this.options.chart.options3d={enabled:!0,alpha:45,beta:0,viewDistance:25,depth:40},this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}},depth:40}},this.options.series[0].innerSize="80%",this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_gauge_chart":this.options.chart.type="gauge";break;case"highcharts_treemap_chart":case"highcharts_treemap_level_chart_":this.options.chart.type="treemap";break;case"highcharts_spline_chart":this.options.chart.type="spline";break;case"highcharts_line_chart":default:this.options.chart.type="line"}},refresh:function(){this.chart.redraw()},setColumnIndexes:function(t){this.columnIndexes=t},setMultiplyYaxis:function(t){if("highcharts_spline_chart"==t.type||"highcharts_line_chart"==t.type||"highcharts_basic_column_chart"==t.type||"highcharts_basic_area_chart"==t.type||"highcharts_basic_bar_chart"==t.type){var i=0;for(var o in Array.isArray(this.options.yAxis)&&this.options.yAxis.splice(1),t.options.series)this.options.series[i].name=t.options.series[o].label,this.options.series[i].color=t.options.series[o].color,t.options.series[o].type&&(this.options.series[i].type=t.options.series[o].type),Array.isArray(this.options.yAxis)&&(t.options.series[o].yAxis?(this.options.yAxis.push({title:{text:t.options.series[o].label},opposite:!0}),this.options.series[i].yAxis=this.options.yAxis.length-1):"undefined"!==this.options.series[i].yAxis&&delete this.options.series[i].yAxis,i++)}},setChartConfig:function(t){if(this.setWidth(t.width),t.height&&(this.options.chart.height=t.height),this.options.chart.backgroundColor=t.background_color,t.border_width&&(this.options.chart.borderWidth=t.border_width),this.options.chart.borderColor=t.border_color,t.border_radius&&(this.options.chart.borderRadius=t.border_radius),t.zoom_type&&(this.options.chart.zoomType=t.zoom_type),t.panning&&(this.options.chart.panning=t.panning),t.pan_key&&(this.options.chart.panKey=t.pan_key),this.options.chart.plotBackgroundColor=t.plot_background_color,this.options.chart.plotBackgroundImage=t.plot_background_image,t.plot_border_width&&(this.options.chart.plotBorderWidth=t.plot_border_width),this.options.chart.plotBorderColor=t.plot_border_color,"pie"!=this.options.chart.type){var i=0;for(var o in Array.isArray(this.options.yAxis)&&this.options.yAxis.splice(1),t.series_data)this.options.series[i].name=t.series_data[o].label,this.options.series[i].color=t.series_data[o].color,t.series_data[o].type&&(this.options.series[i].type=t.series_data[o].type),Array.isArray(this.options.yAxis)&&(t.series_data[o].yAxis?(this.options.yAxis.push({title:{text:t.series_data[o].label},opposite:!0}),this.options.series[i].yAxis=this.options.yAxis.length-1):"undefined"!==this.options.series[i].yAxis&&delete this.options.series[i].yAxis),i++}0==t.show_grid?(this.options.xAxis.lineWidth=0,this.options.xAxis.minorGridLineWidth=0,this.options.xAxis.lineColor="transparent",this.options.xAxis.minorTickLength=0,this.options.xAxis.tickLength=0,Array.isArray(this.options.yAxis)?(this.options.yAxis[0].lineWidth=0,this.options.yAxis[0].gridLineWidth=0,this.options.yAxis[0].minorGridLineWidth=0,this.options.yAxis[0].lineColor="transparent",this.options.yAxis[0].labels={enabled:!1},this.options.yAxis[0].minorTickLength=0,this.options.yAxis[0].tickLength=0):(this.options.yAxis.lineWidth=0,this.options.yAxis.gridLineWidth=0,this.options.yAxis.minorGridLineWidth=0,this.options.yAxis.lineColor="transparent",this.options.yAxis.labels={enabled:!1},this.options.yAxis.minorTickLength=0,this.options.yAxis.tickLength=0)):(delete this.options.xAxis.lineWidth,delete this.options.xAxis.minorGridLineWidth,delete this.options.xAxis.lineColor,delete this.options.xAxis.minorTickLength,delete this.options.xAxis.tickLength,Array.isArray(this.options.yAxis)?(delete this.options.yAxis[0].lineWidth,delete this.options.yAxis[0].gridLineWidth,delete this.options.yAxis[0].minorGridLineWidth,delete this.options.yAxis[0].lineColor,this.options.yAxis[0].labels={enabled:!0},this.options.yAxis[0].minorTickLength=0,this.options.yAxis[0].tickLength=0):(delete this.options.yAxis.lineWidth,delete this.options.yAxis.gridLineWidth,delete this.options.yAxis.minorGridLineWidth,delete this.options.yAxis.lineColor,this.options.yAxis.labels={enabled:!0},this.options.yAxis.minorTickLength=0,this.options.yAxis.tickLength=0)),Array.isArray(this.options.yAxis)?(t.highcharts_line_dash_style&&(this.options.yAxis[0].gridLineDashStyle=t.highcharts_line_dash_style),1==t.vertical_axis_crosshair?this.options.yAxis[0].crosshair=!0:this.options.yAxis[0].crosshair=!1,t.horizontal_axis_label&&(this.options.yAxis[0].title={text:t.vertical_axis_label}),t.vertical_axis_min?this.options.yAxis[0].min=t.vertical_axis_min:this.options.yAxis[0].min=void 0,t.vertical_axis_max?this.options.yAxis[0].max=t.vertical_axis_max:this.options.yAxis[0].max=void 0):(t.highcharts_line_dash_style&&(this.options.yAxis.gridLineDashStyle=t.highcharts_line_dash_style),1==t.vertical_axis_crosshair?this.options.yAxis.crosshair=!0:this.options.yAxis.crosshair=!1,t.horizontal_axis_label&&(this.options.yAxis.title={text:t.vertical_axis_label}),t.vertical_axis_min?this.options.yAxis.min=t.vertical_axis_min:this.options.yAxis.min=void 0,t.vertical_axis_max?this.options.yAxis.max=t.vertical_axis_max:this.options.yAxis.max=void 0),t.vertical_axis_label&&(this.options.xAxis.title={text:t.horizontal_axis_label}),1==t.horizontal_axis_crosshair?this.options.xAxis.crosshair=!0:this.options.xAxis.crosshair=!1,1==t.inverted?this.options.chart.inverted=!0:this.options.chart.inverted=!1,1==t.show_title?this.options.title.text=t.chart_title:this.options.title.text="",1==t.title_floating?this.options.title.floating=!0:this.options.title.floating=!1,t.title_align&&(this.options.title.align=t.title_align),t.subtitle?this.options.subtitle.text=t.subtitle:this.options.subtitle.text=null,t.subtitle_align&&(this.options.subtitle.align=t.subtitle_align),1==t.tooltip_enabled?this.options.tooltip.enabled=!0:this.options.tooltip.enabled=!1,this.options.tooltip.backgroundColor=t.tooltip_background_color?t.tooltip_background_color:"rgba(247,247,247,0.85)",t.tooltip_border_width&&(this.options.tooltip.borderWidth=t.tooltip_border_width),this.options.tooltip.borderColor=t.tooltip_border_color,t.tooltip_border_radius&&(this.options.tooltip.borderRadius=t.tooltip_border_radius),1==t.tooltip_shared?this.options.tooltip.shared=!0:this.options.tooltip.shared=!1,this.options.tooltip.valuePrefix=t.tooltip_value_prefix,this.options.tooltip.valueSuffix=t.tooltip_value_suffix,"highcharts_treemap_level_chart"!=t.chart_type&&(1==t.show_legend?this.options.legend.enabled=!0:this.options.legend.enabled=!1,this.options.legend.backgroundColor=t.legend_background_color,t.legend_title&&(this.options.legend.title.text=t.legend_title),t.legend_layout&&(this.options.legend.layout=t.legend_layout),t.legend_align&&(this.options.legend.align=t.legend_align),t.legend_vertical_align&&(this.options.legend.verticalAlign=t.legend_vertical_align),t.legend_border_width&&(this.options.legend.borderWidth=t.legend_border_width),this.options.legend.borderColor=t.legend_border_color,t.legend_border_radius&&(this.options.legend.borderRadius=t.legend_border_radius)),1==t.exporting?this.options.exporting.enabled=!0:this.options.exporting.enabled=!1,1==t.exporting_data_labels?this.options.exporting.chartOptions.plotOptions.series.dataLabels.enabled=!0:this.options.exporting.chartOptions.plotOptions.series.dataLabels.enabled=!1,t.exporting_file_name&&(this.options.exporting.filename=t.exporting_file_name),t.exporting_width&&(this.options.exporting.width=t.exporting_width),t.exporting_button_align&&(this.options.exporting.buttons.contextButton.align=t.exporting_button_align),t.exporting_button_vertical_align&&(this.options.exporting.buttons.contextButton.verticalAlign=t.exporting_button_vertical_align),this.options.exporting.buttons.contextButton.symbolStroke=t.exporting_button_color?t.exporting_button_color:"#666666",t.exporting_button_text&&(this.options.exporting.buttons.contextButton.text=t.exporting_button_text),1==t.credits?this.options.credits.enabled=!0:this.options.credits.enabled=!1,t.credits_href&&(this.options.credits.href=t.credits_href),t.credits_text&&(this.options.credits.text=t.credits_text)},getColumnIndexes:function(){return this.columnIndexes},setConnectedWPDataTable:function(t){this.connectedWPDataTable=t},getConnectedWPDataTable:function(){return this.connectedWPDataTable},setGrouping:function(t){this.group_chart=t},getGrouping:function(){return this.group_chart},enableFollowFiltering:function(){null!=this.connectedWPDataTable&&(void 0!==this.options.plotOptions.series?this.options.plotOptions.series.animation=!1:this.options.plotOptions.series={animation:!1},this.numberFormat=jQuery.parseJSON(jQuery("#"+this.connectedWPDataTable.data("described-by")).val()).number_format,this.connectedWPDataTable.fnSettings().aoDrawCallback.push({sName:"chart_filter_follow",fn:function(i){t.options.xAxis.categories=[];var o=0,e=t.connectedWPDataTable._("tr",{filter:"applied"}).toArray();for(var s in t.columnIndexes){var n=[];if(t.columnIndexes.length>0&&0==s)for(var r in e)t.options.xAxis.categories.push(e[r][t.columnIndexes[s]]);else{for(var r in e){var a=e[r][t.columnIndexes[s]];"pie"==t.options.chart.type?1==t.numberFormat?n.push({name:t.options.xAxis.categories[r],y:parseFloat(wdtUnformatNumber(a,".",",",!0))}):n.push({name:t.options.xAxis.categories[r],y:parseFloat(wdtUnformatNumber(a,",",".",!0))}):"treemap"==t.options.chart.type?1==t.numberFormat?n.push({colorValue:parseFloat(wdtUnformatNumber(a,".",",",!0)),name:t.options.xAxis.categories[r],value:parseFloat(wdtUnformatNumber(a,".",",",!0))}):n.push({colorValue:parseFloat(wdtUnformatNumber(a,",",".",!0)),name:t.options.xAxis.categories[r],value:parseFloat(wdtUnformatNumber(a,",",".",!0))}):1==t.numberFormat?n.push({name:t.options.xAxis.categories[r],y:parseFloat(wdtUnformatNumber(a,".",",",!0))}):n.push({name:t.options.xAxis.categories[r],y:parseFloat(wdtUnformatNumber(a,",",".",!0))})}if(1==t.group_chart){var h=[];for(var r in n)if(void 0!==h&&h.length>0){var l="none";for(var s in h)"none"===l&&h[s].name==n[r].name&&(l=s);if("none"===l)h.push(n[r]);else for(var p in n[r])"name"!=p&&(h[l][p]+=n[r][p])}else h.push(n[r]);n=h}t.options.series[o].data=n,o++}}1==t.group_chart&&(t.options.xAxis.categories=t.options.xAxis.categories.filter(function(t,i,o){return i==o.indexOf(t)})),null!==t.chart&&t.chart.destroy(),null!==t.renderCallback&&t.renderCallback(t),t.chart=new Highcharts.Chart(t.options)}}))}};return t};